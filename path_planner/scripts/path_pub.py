#!/usr/bin/env python3
# -*-coding:utf-8-*

import rospy
from nav_msgs.msg import Path
from geometry_msgs.msg import PoseStamped

def publish_path():
    rospy.init_node('kino_astar_path_publisher', anonymous=True)
    path_pub = rospy.Publisher('/kino_astar/path', Path, queue_size=10)
    rate = rospy.Rate(1)  # 1Hz

    path = Path()
    path.header.frame_id = "world"  # 修改为你的坐标系

    waypoints = [
        (0.08500007757176059, 3.4908273248881585, 0.9600101904271465, 0.2799650590270756),
        (-0.04148579214542922, 3.5714581177770177, 0.9600101904271465, 0.2799650590270756),
        (-0.16797166186261903, 3.652088910665877, 0.9600101904271465, 0.2799650590270756),
        (-0.2944575315798088, 3.732719703554736, 0.9600101904271465, 0.2799650590270756),
        (-0.4209434012969986, 3.8133504964435954, 0.9600101904271465, 0.2799650590270756),
        (-0.5474292710141884, 3.8939812893324546, 0.9600101904271465, 0.2799650590270756),
        (-0.6739151407313781, 3.974612082221314, 0.9600101904271465, 0.2799650590270756),
        (-0.8004010104485679, 4.055242875110173, 0.9600101904271465, 0.2799650590270756),
        (-0.8636439453071628, 4.095558271554602, 0.9600101904271465, 0.2799650590270756),
        (-0.9901298150243526, 4.176189064443461, 0.9600101904271465, 0.2799650590270756),
        (-1.1166156847415425, 4.25681985733232, 0.9600101904271465, 0.2799650590270756),
        (-1.1691064485028906, 4.285801820108351, 0.9757394558857637, 0.21893495433062685),
        (-1.2248247105146424, 4.3079537889822594, 0.9875930027795305, 0.15703522172082968),
        (-1.282886079518423, 4.322924155577896, 0.995523747830756, 0.0945117321024502),
        (-1.3423689731578858, 4.330475301906582, 0.9995001894581084, 0.03161283399515899),
        (-1.402329245846679, 4.3304873719720485, -0.9995065329035258, 0.03141163292752001),
        (-1.4618151747725463, 4.3229601741915, -0.9955427529703134, 0.09431133022224614),
        (-1.5201845967965038, 4.309109234152381, -0.9924543428248324, 0.12261475200044297),
        (-1.578380471507528, 4.294506488978314, -0.9924543428248324, 0.12261475200044297),
        (-1.6365763462185523, 4.279903743804247, -0.9924543428248324, 0.12261475200044297),
        (-1.6947722209295768, 4.265300998630178, -0.9924543428248324, 0.12261475200044297),
        (-1.7529680956406013, 4.250698253456111, -0.9924543428248324, 0.12261475200044297),
        (-1.81116394899, 4.236095423223127, -0.9924170786684843, 0.12291599557059907),
        (-1.8682754489608595, 4.217833139201697, -0.9827032290750543, 0.18518737420640063),
        (-1.9226374674394369, 4.192534811321464, -0.969086000228392, 0.2467231731340555),
        (-1.973387140219379, 4.160601988719482, -0.9516194808981218, 0.30727896702376056),
        (-2.0197189402553066, 4.122541526924705, -0.9303730495569735, 0.3666142232075255),
        (-2.0608974634363024, 4.0789575427650036, -0.9054310988036979, 0.42449325709500774),
    ]
    
    for i, (x, y, oz, ow) in enumerate(waypoints):
        pose_stamped = PoseStamped()
        pose_stamped.header.seq = i
        pose_stamped.header.stamp = rospy.Time.now()
        pose_stamped.header.frame_id = "world"
        pose_stamped.pose.position.x = x
        pose_stamped.pose.position.y = y
        pose_stamped.pose.position.z = 0.0
        pose_stamped.pose.orientation.x = 0.0
        pose_stamped.pose.orientation.y = 0.0
        pose_stamped.pose.orientation.z = oz
        pose_stamped.pose.orientation.w = ow
        path.poses.append(pose_stamped)

    while not rospy.is_shutdown():
        path.header.stamp = rospy.Time.now()
        path_pub.publish(path)
        rate.sleep()

if __name__ == '__main__':
    publish_path()

